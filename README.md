# MyWebServer
轻量级http服务器 
	
基于游双的高性能http服务器，以下是演进历史
	
1.0：复刻原项目功能，主要是学习原始项目的设计，这个阶段花了比较多的时间，个人还是喜欢使用一个东西去了解底层是怎么做的然后延伸一下相关知识点，比如学习服务器模型，顺便
	去了解其他服务器模型，给后续改进提供思路，用epoll去看看底层是怎么实现的
	
2.0：彻底改写线程池，同时也是复习C++11新特性，其中用到了可变参数模板，完美转发，lambda表达式，auto，bind，decltype，标准库锁等等，现在线程池可以支持任意类型
	的任务了，比起之前必须要写一个类，类需要提供一个process接口合适的多，也方便以后继续改。
	
3.0：彻底改写定时器，这个过程遇到一个经典bug段错误，也是花了不少时间了解linux下怎么解决这种问题。现在定时器不再是简单的升序链表，而是更加高效的时间堆，顺便也去
	了解了一下成熟服务器的定时器设计，不得不说kafka的时间轮定时器设计的很精彩，后面要是继续改进可以模仿做一个。

4.0：彻底改写阻塞队列，原项目阻塞队列设计的可以说满是缺陷，现在阻塞队列底层采用deque容器，不再是new出来的固定数组；现在阻塞队列采用的是两个条件变量，分别唤醒，
	而不是原本采用的一个条件变量导致的虚假唤醒；现在队列的出队加以右值引用优化，这使得日志系统采用该阻塞队列，出队不必再重复复制一份。
	
5.0：新增redis，在数据库访问前加入这样一个缓存，加速查询，而且现在服务器启动将进行缓存预热，鉴于本项目其实对每个socket设置了epolloneshot，所以没有专门对数据
	库与redisss一致性专门设计，后续扩展需要特别注意这个问题，加了redis后续也方便学了分布式后给这个项目加上分布式的功能

6.0:增加数据库连接池：避免数据库连接的三次挥手，握手验证，连接拆除的四报文挥手巨大开销，不得不说池化技术实际用的确实多，线程池，内存池，数据库连接池。

计划中的改进：后续学习分布式的知识后为服务器加上分布式的功能
